<c-vars variant="default" closeOnClick="true" disabled asChild />

<div x-data="{ 
        variant: '{{ variant|lower }}', 
        closeOnClick: {{ closeOnClick|lower }},
        disabled: {{ disabled|yesno:'true,false' }},
        asChild: {{ asChild|yesno:'true,false' }},
        init() {
            this.$nextTick(() => {
                if (this.asChild && initAsChild($el)) return;
            });
        },
        handleEvent(event) {
            if (this.disabled) return;
            trap = false;
            this.$nextTick(() => {
                document.activeElement?.blur();
                if (event.target === $el) $el.firstElementChild?.click();
                else event.target.blur();
                if (this.closeOnClick) hideMenu();
            });
        },
    }"
    :id="'{{ attrs.id }}' ? '{{ attrs.id }}' : $id(`${id}-item`)"
    :data-variant="variant"
    :data-disabled="disabled ? '' : null"
    @mouseenter="if (!this.disabled) handleFocus($el)"
    @mouseleave="removeFocus($el)"
    @click.stop="handleEvent($event)"
    @keydown.enter.self="handleEvent($event)"
    role="menuitem"
    tabindex="-1"
    data-slot="dropdown-menu-item"
    class="focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive not-data-[variant=destructive]:focus:**:text-accent-foreground gap-2 rounded-sm px-2 py-1.5 text-sm [&_svg:not([class*='size-'])]:size-4 group/dropdown-menu-item relative flex cursor-default items-center outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 data-inset:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0{% if class %} {{ class }}{% endif %}"
    {{ attrs }}
>
  {{ slot }}
</div>
